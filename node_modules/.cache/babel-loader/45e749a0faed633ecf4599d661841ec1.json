{"ast":null,"code":"import _slicedToArray from\"D:/vinculacion/ami_app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,useRef,useEffect}from\"react\";import DraggablePiece from\"./DraggablePiece\";import{useStyles}from\"./style\";import TransitionsSnackbar from\"../dialogNotifications/notification\";import useForceUpdate from\"use-force-update\";import{Typography}from\"@material-ui/core\";import AppNavBar from\"../../components/navbar\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var _require=require(\"immutable\"),List=_require.List;var httpGetProvin={currentLvl:\"nivel1\"};var words=[\"ABCDEFGHIJKLMNÑOPQRSTUVWXYZ\"];var wordsx=[\"AEIOU\",\"DA\",\"DE\"];var JigSawInit=function JigSawInit(){var _useState=useState(false),_useState2=_slicedToArray(_useState,2),word=_useState2[0],setWord=_useState2[1],_useState3=useState([]),_useState4=_slicedToArray(_useState3,2),arrayWord=_useState4[0],setArrayWord=_useState4[1],_useState5=useState(false),_useState6=_slicedToArray(_useState5,2),currentLevel=_useState6[0],setCurrentLevel=_useState6[1],_useState7=useState([]),_useState8=_slicedToArray(_useState7,2),levels=_useState8[0],setlevels=_useState8[1],_useState9=useState(false),_useState10=_slicedToArray(_useState9,2),changeLvl=_useState10[0],setchangeLvl=_useState10[1];useEffect(function(){getClevel();// eslint-disable-next-line react-hooks/exhaustive-deps\n},[]);var forceUpdate=useForceUpdate();var childRef=useRef();var getClevel=function getClevel(value){setCurrentLevel(httpGetProvin.currentLvl);if(!currentLevel){encodeLevels(httpGetProvin.currentLvl);}else{encodeLevels(value);setTimeout(function(){setchangeLvl(false);},800);forceUpdate();}};var encodeLevels=function encodeLevels(item){var array=[];var i=0;var lettersContainer=[];// let lettersOriginal = [];\nwords.forEach(function(element){var i=words.indexOf(element)+1;array.splice(i,0,\"nivel\"+i);});var lvlWord=words[0];var lvlWordx=wordsx[i];Array.from(lvlWord).forEach(function(element){lettersContainer.push(element+i);i+=1;});lettersContainer=List(lettersContainer)._tail.array;setArrayWord(lettersContainer);setWord(lvlWordx);setlevels(array);};var classes=useStyles();var switchAction=function switchAction(value){childRef.current.handleClick(value);if(value===\"correct\"&&words[words.length-1]!==word){nextLevel();}};var nextLevel=function nextLevel(){setTimeout(function(){setchangeLvl(true);},800);var i=levels.indexOf(currentLevel)+2;var changeLvlvar=\"nivel\"+i;httpGetProvin.currentLvl=changeLvlvar;getClevel(changeLvlvar);forceUpdate();};var switchActionPrevLvl=function switchActionPrevLvl(){if(words[0]!==word){previousLevel();}};var previousLevel=function previousLevel(){setTimeout(function(){setchangeLvl(true);},800);setchangeLvl(true);var i=levels.indexOf(currentLevel);var changeLvlvar=\"nivel\"+i;httpGetProvin.currentLvl=changeLvlvar;getClevel(changeLvlvar);forceUpdate();};var DragabbleComponent=function DragabbleComponent(){if(arrayWord.length===0&&!currentLevel){/*#__PURE__*/_jsx(Typography,{children:\"Loading...\"});}else if(changeLvl){return/*#__PURE__*/_jsxs(\"div\",{className:classes.root,children:[/*#__PURE__*/_jsx(Typography,{className:classes.titleWord,children:\"Cargando Nivel...\"}),\";\"]});}else if(!changeLvl){return/*#__PURE__*/_jsxs(\"div\",{style:{backgroundColor:\"#6495ED\"},children:[/*#__PURE__*/_jsx(AppNavBar,{}),/*#__PURE__*/_jsx(\"div\",{className:classes.root,children:/*#__PURE__*/_jsx(\"form\",{noValidate:true,autoComplete:\"off\",children:/*#__PURE__*/_jsx(Typography,{variant:\"h4\",component:\"h4\",className:classes.titleWord,children:\"Selecciona las letras para formar una palabra\"})})}),/*#__PURE__*/_jsx(DraggablePiece,{arrayWord:arrayWord,switchAnswer:switchAction,previousLevel:switchActionPrevLvl}),/*#__PURE__*/_jsx(\"div\",{className:classes.root,children:/*#__PURE__*/_jsx(TransitionsSnackbar,{ref:childRef})})]});}};return/*#__PURE__*/_jsx(_Fragment,{children:DragabbleComponent()});};export default/*#__PURE__*/React.forwardRef(JigSawInit);","map":{"version":3,"sources":["D:/vinculacion/ami_app/src/pages/draggableFist/JigsawInit.js"],"names":["React","useState","useRef","useEffect","DraggablePiece","useStyles","TransitionsSnackbar","useForceUpdate","Typography","AppNavBar","require","List","httpGetProvin","currentLvl","words","wordsx","JigSawInit","word","setWord","arrayWord","setArrayWord","currentLevel","setCurrentLevel","levels","setlevels","changeLvl","setchangeLvl","getClevel","forceUpdate","childRef","value","encodeLevels","setTimeout","item","array","i","lettersContainer","forEach","element","indexOf","splice","lvlWord","lvlWordx","Array","from","push","_tail","classes","switchAction","current","handleClick","length","nextLevel","changeLvlvar","switchActionPrevLvl","previousLevel","DragabbleComponent","root","titleWord","backgroundColor","forwardRef"],"mappings":"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","sourcesContent":["import React, { useState, useRef, useEffect } from \"react\";\r\nimport DraggablePiece from \"./DraggablePiece\";\r\nimport { useStyles } from \"./style\";\r\nimport TransitionsSnackbar from \"../dialogNotifications/notification\";\r\nimport useForceUpdate from \"use-force-update\";\r\nimport { Typography } from \"@material-ui/core\";\r\nimport AppNavBar from \"../../components/navbar\";\r\n\r\n\r\nconst { List } = require(\"immutable\");\r\nconst httpGetProvin = {\r\n  currentLvl: \"nivel1\",\r\n};\r\nconst words = [\"ABCDEFGHIJKLMNÑOPQRSTUVWXYZ\" ];\r\n\r\n\r\nconst wordsx = [\"AEIOU\", \"DA\", \"DE\"];\r\n\r\nconst JigSawInit = () => {\r\n  const [word, setWord] = useState(false),\r\n    [arrayWord, setArrayWord] = useState([]),\r\n    [currentLevel, setCurrentLevel] = useState(false),\r\n    [levels, setlevels] = useState([]),\r\n    [changeLvl, setchangeLvl] = useState(false);\r\n\r\n  useEffect(() => {\r\n    getClevel();\r\n  // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, []);\r\n  const forceUpdate = useForceUpdate();\r\n  const childRef = useRef();\r\n  const getClevel = (value) => {\r\n    setCurrentLevel(httpGetProvin.currentLvl);\r\n    if (!currentLevel) {\r\n      encodeLevels(httpGetProvin.currentLvl);\r\n    } else {\r\n      encodeLevels(value);\r\n      setTimeout(() => {\r\n        setchangeLvl(false);\r\n      }, 800);\r\n      forceUpdate();\r\n    }\r\n  };\r\n  const encodeLevels = (item) => {\r\n    let array = [];\r\n    let i = 0;\r\n    let lettersContainer = [];\r\n    // let lettersOriginal = [];\r\n\r\n    words.forEach((element) => {\r\n      let i = words.indexOf(element) + 1;\r\n      array.splice(i, 0, \"nivel\" + i);\r\n    });\r\n    let lvlWord = words[0];\r\n    let lvlWordx = wordsx[i];\r\n\r\n    Array.from(lvlWord).forEach((element) => {\r\n      lettersContainer.push(element + i);\r\n      i += 1;\r\n    });\r\n\r\n    lettersContainer = List(lettersContainer)._tail.array;\r\n    setArrayWord(lettersContainer);\r\n    setWord(lvlWordx);\r\n    setlevels(array);\r\n  };\r\n  const classes = useStyles();\r\n\r\n  const switchAction = (value) => {\r\n    childRef.current.handleClick(value);\r\n    if (value === \"correct\" && words[words.length - 1] !== word) {\r\n      nextLevel();\r\n    }\r\n  };\r\n\r\n  const nextLevel = () => {\r\n    setTimeout(() => {\r\n      setchangeLvl(true);\r\n    }, 800);\r\n    let i = levels.indexOf(currentLevel) + 2;\r\n    let changeLvlvar = \"nivel\" + i;\r\n    httpGetProvin.currentLvl = changeLvlvar;\r\n    getClevel(changeLvlvar);\r\n\r\n    forceUpdate();\r\n  };\r\n  const switchActionPrevLvl = () => {\r\n    if (words[0] !== word) {\r\n      previousLevel();\r\n    }\r\n  };\r\n  const previousLevel = () => {\r\n    setTimeout(() => {\r\n      setchangeLvl(true);\r\n    }, 800);\r\n    setchangeLvl(true);\r\n    let i = levels.indexOf(currentLevel);\r\n    let changeLvlvar = \"nivel\" + i;\r\n    httpGetProvin.currentLvl = changeLvlvar;\r\n    getClevel(changeLvlvar);\r\n    forceUpdate();\r\n  };\r\n  const DragabbleComponent = () => {\r\n    if (arrayWord.length === 0 && !currentLevel) {\r\n      <Typography>Loading...</Typography>;\r\n    } else if (changeLvl) {\r\n      return (\r\n        <div className={classes.root}>\r\n          <Typography className={classes.titleWord}>\r\n            Cargando Nivel...\r\n          </Typography>\r\n          ;\r\n        </div>\r\n      );\r\n    } else if (!changeLvl) {\r\n      return (\r\n        <div style={{ backgroundColor: \"#6495ED\" }}>\r\n          <AppNavBar />\r\n          <div className={classes.root}>\r\n            <form noValidate autoComplete=\"off\">\r\n              <Typography\r\n                variant=\"h4\"\r\n                component=\"h4\"\r\n                className={classes.titleWord}\r\n              >\r\n                {`Selecciona las letras para formar una palabra`}\r\n              </Typography>\r\n            </form>\r\n          </div>\r\n          <DraggablePiece\r\n            arrayWord={arrayWord}\r\n            switchAnswer={switchAction}\r\n            previousLevel={switchActionPrevLvl}\r\n          />\r\n          <div className={classes.root}>\r\n            <TransitionsSnackbar ref={childRef} />\r\n          </div>\r\n        </div>\r\n      );\r\n    }\r\n  };\r\n  return <>{DragabbleComponent()}</>;\r\n};\r\nexport default React.forwardRef(JigSawInit);\r\n"]},"metadata":{},"sourceType":"module"}