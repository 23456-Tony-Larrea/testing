{"ast":null,"code":"import _slicedToArray from\"D:/vinculacion/ami_app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,useRef,useEffect}from\"react\";import DraggablePiece from\"./DraggablePiece\";import{useStyles}from\"./style\";import TransitionsSnackbar from\"../dialogNotifications/notification\";import useForceUpdate from\"use-force-update\";import{Typography}from\"@material-ui/core\";import AppNavBar from'../../components/navbar';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var _require=require(\"immutable\"),List=_require.List;var httpGetProvin={currentLvl:\"nivel1\"};var words=['AVIÓN','ÁRBOL','ABEJA','BALÓN','BARCO','CASA','CONEJO','DADO','DIENTE','CHOCOLATE','ESPEJO','ESCALERA','FRESA','FUEGO','JOYA','JARRA','GATO','GUANTE','KIWI','KARATE','ISLA','IGLU','LLAVE','LLAMA','LÁPIZ','LIMÓN','OSO','OJO','MANO','MAPA','PERA','PEZ','NAVE','NIÑO','QUESO','QUÍMICA','RAMA','RANA','UÑA','UVA','SANDIA','SILLA','VACA','VELA','TAZA','TIGRE','YATE','YUNQUE'];var JigSaw=function JigSaw(){var _useState=useState(false),_useState2=_slicedToArray(_useState,2),word=_useState2[0],setWord=_useState2[1],_useState3=useState([]),_useState4=_slicedToArray(_useState3,2),arrayWord=_useState4[0],setArrayWord=_useState4[1],_useState5=useState(false),_useState6=_slicedToArray(_useState5,2),currentLevel=_useState6[0],setCurrentLevel=_useState6[1],_useState7=useState([]),_useState8=_slicedToArray(_useState7,2),levels=_useState8[0],setlevels=_useState8[1],_useState9=useState(false),_useState10=_slicedToArray(_useState9,2),changeLvl=_useState10[0],setchangeLvl=_useState10[1];useEffect(function(){getClevel();// eslint-disable-next-line react-hooks/exhaustive-deps\n},[]);var forceUpdate=useForceUpdate();var childRef=useRef();var getClevel=function getClevel(value){setCurrentLevel(httpGetProvin.currentLvl);if(!currentLevel){encodeLevels(httpGetProvin.currentLvl);}else{encodeLevels(value);setTimeout(function(){setchangeLvl(false);},800);forceUpdate();}};var encodeLevels=function encodeLevels(item){var array=[];var i=0;var lettersContainer=[];words.forEach(function(element){var i=words.indexOf(element)+1;array.splice(i,0,\"nivel\"+i);});var lvlWord=words[array.indexOf(item)];console.log(item);Array.from(lvlWord).forEach(function(element){lettersContainer.push(element+i);i+=1;});lettersContainer=List(lettersContainer)._tail.array;setArrayWord(lettersContainer);setWord(lvlWord);setlevels(array);};var classes=useStyles();var switchAction=function switchAction(value){childRef.current.handleClick(value);if(value===\"correct\"&&words[words.length-1]!==word){nextLevel();}};var nextLevel=function nextLevel(){setTimeout(function(){setchangeLvl(true);},800);var i=levels.indexOf(currentLevel)+2;var changeLvlvar=\"nivel\"+i;httpGetProvin.currentLvl=changeLvlvar;getClevel(changeLvlvar);forceUpdate();};var switchActionPrevLvl=function switchActionPrevLvl(){if(words[0]!==word){previousLevel();}};var previousLevel=function previousLevel(){setTimeout(function(){setchangeLvl(true);},800);setchangeLvl(true);var i=levels.indexOf(currentLevel);var changeLvlvar=\"nivel\"+i;httpGetProvin.currentLvl=changeLvlvar;console.log(changeLvlvar);getClevel(changeLvlvar);forceUpdate();};var DragabbleComponent=function DragabbleComponent(){if(arrayWord.length===0&&!currentLevel){/*#__PURE__*/_jsx(Typography,{children:\"Loading...\"});}else if(changeLvl){return/*#__PURE__*/_jsxs(\"div\",{className:classes.root,children:[/*#__PURE__*/_jsx(Typography,{className:classes.titleWord,children:\"Cargando Nivel...\"}),\";\"]});}else if(!changeLvl){return/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsxs(\"div\",{style:{backgroundColor:\"#6495ED\",minheight:\"100vh\"},children:[/*#__PURE__*/_jsx(AppNavBar,{}),/*#__PURE__*/_jsx(\"div\",{className:classes.root,children:/*#__PURE__*/_jsx(\"form\",{noValidate:true,autoComplete:\"off\",children:/*#__PURE__*/_jsx(Typography,{variant:\"h3\",component:\"h3\",className:classes.titleWord,children:\"Forma la siguiente palabra \\\"\".concat(word,\"\\\"\")})})}),/*#__PURE__*/_jsx(DraggablePiece,{arrayWord:arrayWord,switchAnswer:switchAction,previousLevel:switchActionPrevLvl}),/*#__PURE__*/_jsx(\"div\",{className:classes.root,children:/*#__PURE__*/_jsx(TransitionsSnackbar,{ref:childRef})})]})});}};return/*#__PURE__*/_jsx(_Fragment,{children:DragabbleComponent()});};export default/*#__PURE__*/React.forwardRef(JigSaw);","map":{"version":3,"sources":["D:/vinculacion/ami_app/src/pages/draggable/Jigsaw.js"],"names":["React","useState","useRef","useEffect","DraggablePiece","useStyles","TransitionsSnackbar","useForceUpdate","Typography","AppNavBar","require","List","httpGetProvin","currentLvl","words","JigSaw","word","setWord","arrayWord","setArrayWord","currentLevel","setCurrentLevel","levels","setlevels","changeLvl","setchangeLvl","getClevel","forceUpdate","childRef","value","encodeLevels","setTimeout","item","array","i","lettersContainer","forEach","element","indexOf","splice","lvlWord","console","log","Array","from","push","_tail","classes","switchAction","current","handleClick","length","nextLevel","changeLvlvar","switchActionPrevLvl","previousLevel","DragabbleComponent","root","titleWord","backgroundColor","minheight","forwardRef"],"mappings":"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","sourcesContent":["import React, { useState, useRef, useEffect } from \"react\";\r\nimport DraggablePiece from \"./DraggablePiece\";\r\nimport { useStyles } from \"./style\";\r\nimport TransitionsSnackbar from \"../dialogNotifications/notification\";\r\nimport useForceUpdate from \"use-force-update\";\r\nimport { Typography } from \"@material-ui/core\";\r\nimport AppNavBar from '../../components/navbar'\r\n\r\nconst { List } = require(\"immutable\");\r\nconst httpGetProvin = {\r\n  currentLvl: \"nivel1\",\r\n};\r\nconst words = ['AVIÓN','ÁRBOL','ABEJA',\r\n  'BALÓN','BARCO','CASA','CONEJO',\r\n  'DADO','DIENTE','CHOCOLATE','ESPEJO',\r\n  'ESCALERA','FRESA','FUEGO','JOYA','JARRA',\r\n  'GATO','GUANTE','KIWI','KARATE','ISLA','IGLU',\r\n  'LLAVE','LLAMA','LÁPIZ','LIMÓN','OSO','OJO',\r\n  'MANO','MAPA','PERA','PEZ','NAVE','NIÑO',\r\n  'QUESO','QUÍMICA','RAMA','RANA','UÑA','UVA',\r\n  'SANDIA','SILLA','VACA','VELA','TAZA','TIGRE',\r\n  'YATE','YUNQUE'\r\n];\r\nconst JigSaw = () => {\r\n  const [word, setWord] = useState(false),\r\n    [arrayWord, setArrayWord] = useState([]),\r\n    [currentLevel, setCurrentLevel] = useState(false),\r\n    [levels, setlevels] = useState([]),\r\n    [changeLvl, setchangeLvl] = useState(false);\r\n\r\n  useEffect(() => {\r\n    getClevel();\r\n  // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, []);\r\n\r\n  const forceUpdate = useForceUpdate();\r\n  const childRef = useRef();\r\n  const getClevel = (value) => {\r\n    setCurrentLevel(httpGetProvin.currentLvl);\r\n    if (!currentLevel) {\r\n      encodeLevels(httpGetProvin.currentLvl);\r\n    } else {\r\n      encodeLevels(value);\r\n      setTimeout(() => {\r\n        setchangeLvl(false);\r\n      }, 800);\r\n      forceUpdate();\r\n    }\r\n  };\r\n\r\n  const encodeLevels = (item) => {\r\n    let array = [];\r\n    let i = 0;\r\n    let lettersContainer = [];\r\n    words.forEach((element) => {\r\n      let i = words.indexOf(element) + 1;\r\n      array.splice(i, 0, \"nivel\" + i);\r\n    });\r\n    let lvlWord = words[array.indexOf(item)];\r\n    console.log(item);\r\n    Array.from(lvlWord).forEach((element) => {\r\n      lettersContainer.push(element + i);\r\n      i += 1;\r\n    });\r\n    lettersContainer = List(lettersContainer)._tail.array;\r\n    setArrayWord(lettersContainer);\r\n    setWord(lvlWord);\r\n    setlevels(array);\r\n  };\r\n\r\n  const classes = useStyles();\r\n  const switchAction = (value) => {\r\n    childRef.current.handleClick(value);\r\n    if (value === \"correct\" && words[words.length - 1] !== word) {\r\n      nextLevel();\r\n    }\r\n  };\r\n\r\n  const nextLevel = () => {\r\n    setTimeout(() => {\r\n      setchangeLvl(true);\r\n    }, 800);\r\n    let i = levels.indexOf(currentLevel) + 2;\r\n    let changeLvlvar = \"nivel\" + i;\r\n    httpGetProvin.currentLvl = changeLvlvar;\r\n    getClevel(changeLvlvar);\r\n    forceUpdate();\r\n  };\r\n\r\n  const switchActionPrevLvl = () => {\r\n    if (words[0] !== word) {\r\n      previousLevel();\r\n    }\r\n  };\r\n\r\n  const previousLevel = () => {\r\n    setTimeout(() => {\r\n      setchangeLvl(true);\r\n    }, 800);\r\n    setchangeLvl(true);\r\n    let i = levels.indexOf(currentLevel);\r\n    let changeLvlvar = \"nivel\" + i;\r\n    httpGetProvin.currentLvl = changeLvlvar;\r\n    console.log(changeLvlvar);\r\n    getClevel(changeLvlvar);\r\n    forceUpdate();\r\n  };\r\n  \r\n  const DragabbleComponent = () => {\r\n    if (arrayWord.length === 0 && !currentLevel) {\r\n      <Typography>Loading...</Typography>;\r\n    } else if (changeLvl) {\r\n      return (\r\n        <div className={classes.root}>\r\n          <Typography className={classes.titleWord}>\r\n            Cargando Nivel...\r\n          </Typography>\r\n          ;\r\n        </div>\r\n      );\r\n    } else if (!changeLvl) {\r\n      return (\r\n        <>\r\n          <div style={{ backgroundColor: \"#6495ED\", minheight: \"100vh\" }}>\r\n            <AppNavBar />\r\n            <div className={classes.root}>\r\n              <form noValidate autoComplete=\"off\">\r\n                <Typography\r\n                  variant=\"h3\"\r\n                  component=\"h3\"\r\n                  className={classes.titleWord}\r\n                >\r\n                  {`Forma la siguiente palabra \"${word}\"`}\r\n                </Typography>\r\n              </form>\r\n            </div>\r\n\r\n            <DraggablePiece\r\n              arrayWord={arrayWord}\r\n              switchAnswer={switchAction}\r\n              previousLevel={switchActionPrevLvl}\r\n            />\r\n            {\r\n              <div className={classes.root}>\r\n                <TransitionsSnackbar ref={childRef} />\r\n              </div>\r\n            }\r\n          </div>\r\n        </>\r\n      );\r\n    }\r\n  };\r\n  return <>{DragabbleComponent()}</>;\r\n}\r\nexport default React.forwardRef(JigSaw)"]},"metadata":{},"sourceType":"module"}